# Zerem Optuna multi-objective config
# Usage:
#   ./venv_optuna/bin/python scripts/91_optuna_zerem_multi.py --config configs/optuna_zerem_multi_2025.yaml

symbol: BTCUSDT
grid_year: 2025

timeframes: ["5m", "15m", "1h"]

series:
  - price
  - asi
  - pvt
  - macd_line
  - macd_signal
  - macd_hist
  - dmi_dx
  - klinger_kvo
  - klinger_signal
  - mfi
  - stoch_k
  - stoch_d

max_combo_size: 3
cci_low: -100.0
cci_high: 100.0
trade_direction: both

use_fixed_stop: false
stop_buffers: [1, 2, 5, 10, 15, 20]

extreme_confirm_bars: 0
entry_no_hist_abs_growth: false

entry_cci_tf_confluence: true
entry_cci_tf_max_combo_size: 2

exit_b_mode: macd

allow_warmup_before_start: false
offline: false
cache_validate: true
cache_max_missing: 5

objective_mode: equity
monthly_objective:
  mad_weight: 0.0

regularity_penalty:
  enabled: true
  min_active_months: 4
  max_month_share: 0.5
  min_trades: 0
  weight_equity: 20.0

search_space:
  extreme_confirm_bars:
    suggest: int
    low: 0
    high: 4
    step: 1
  cci_extreme_abs:
    suggest: float
    low: 0
    high: 150
    step: 10
  max_combo_size:
    suggest: int
    low: 1
    high: 3
    step: 1
  use_fixed_stop:
    suggest: categorical
    choices: [true]
  entry_no_hist_abs_growth:
    suggest: categorical
    choices: [true, false]
  entry_cci_tf_confluence:
    suggest: categorical
    choices: [false]
  exit_b_mode:
    suggest: categorical
    choices: [macd, stoch, klinger, none]

n_trials: 10000
n_jobs: 1
seed: null

study_name: ""

# DB path (relative to project root is ok)
db: data/processed/optuna/zerem_multi_2025_v1.db

# Pareto export CSV
out_csv: data/processed/optuna/zerem_multi_2025_pareto_v1.csv
